// ğŸ“ telegramCommands.js â€“ ×’×¨×¡×” ××¢×•×¦×‘×ª ×¢× RTL + HTML

module.exports = function registerTelegramCommands(bot) {
  const getRandom = (arr) => arr[Math.floor(Math.random() * arr.length)];
  const nameOf = (ctx) => ctx.from?.first_name || "×—×‘×¨";

  // ğŸ“Œ ×¨×™×©×•× Slash Commands
  bot.api.setMyCommands([
    { command: "start", description: "×”×ª×—×œ×” ×•×‘×¨×•×š ×”×‘×" },
    { command: "help", description: "×”×¦×’ ××ª ×›×œ ×”××¤×©×¨×•×™×•×ª ×©×œ ×”×‘×•×˜" },
    { command: "prophecy", description: "×§×‘×œ ×ª×—×–×™×ª ×¤×¡×™××™×ª ××”×‘×•×˜" },
    { command: "laugh", description: "×©××¢×•×Ÿ ×™×•×¨×“ ×¢×œ×™×š" },
    { command: "compliment", description: "××—×××” ×’×¡×” ×‘××™×•×—×“" },
    { command: "nextmvp", description: "× ×™×—×•×© ××’×•×—×š ×©×œ ×©××¢×•×Ÿ" },
    { command: "why", description: "×œ××” ×× ×™ ×›×–×” ×’×¨×•×¢?" },
    { command: "shimon", description: "××©×¤×˜ ×”×©×¨××” ××¨×•×©×¢" },
    { command: "excuse", description: "×ª×™×¨×•×¥ ××‘×™×š ×œ×”×¤×¡×“ ×©×œ×š" },
    { command: "rage", description: "×”×ª×¤×¨×¦×•×ª ×–×¢× ×©×œ ×’×™×™××¨ ××ª×•×¡×›×œ" },
    { command: "daily", description: "××©×¤×˜ ×™×•××™ ××›×–×¨×™ ××©××¢×•×Ÿ" }
  ]).catch((err) => console.error("âŒ ×©×’×™××” ×‘×¨×™×©×•× ×¤×§×•×“×•×ª ×‘×˜×œ×’×¨×:", err));

  const replies = {
    prophecy: [
      "×”×™×•× ×ª××•×ª ×‘×’×•×œ××’ ×ª×•×š 17 ×©× ×™×•×ª ğŸ¤¯",
      "×”×¤×™× ×’ ×©×œ×š ×™×¢×œ×” ×œÖ¾999 ×‘×¨×’×¢ ×”×›×™ ×§×¨×™×˜×™ ğŸ˜µâ€ğŸ’«",
      "×ª×ª×—×‘×¨ â€“ ×•×›×•×œ× ×™×ª× ×ª×§×• ğŸ¤¡",
      "×”×’×•×¨×œ ×©×œ×š: Spectator Mode ğŸª¦",
      "×”× ×‘×•××”: Rage quit ×ª×•×š 6 ×“×§×•×ª ğŸ”®"
    ],
    laugh: [
      "× ×¤×œ×ª ×›××• ×˜×•× ×” ×‘×œ×™ ×©××Ÿ ğŸ¤£",
      "×ª××—×•×§ ××ª ×”××©×—×§ ×•×ª×—×–×•×¨ ×œ×ª×™×›×•×Ÿ ğŸ«",
      "×’× ×‘×•×˜×™× ×‘Ö¾Easy ×”×™×• ×¢×•×©×™× ×™×•×ª×¨ ğŸ˜¬",
      "MVP ×©×œ ×”×ª×‘×•×¡×”, ×›×œ ×”×›×‘×•×“ ğŸ‘",
      "RIP ×’××•×•×” ×’×™×™××¨×™×ª âš°ï¸"
    ],
    compliment: [
      "×¨×•×¢×™, ×œ××¨×•×ª ×©××ª×” ×¨×•×¡×™ ×¢× ×©× ×ª×™×× ×™ â€“ ×× ×™ ×’××” ×‘×š. ×§×¦×ª ğŸ™ƒ",
      "×™×•×’×‘, ××ª×” ×œ× MVP, ××‘×œ ×œ×¤×—×•×ª ××ª×” ×‘× ×œ×¢×¨×•×¦×™× ğŸ‘Œ",
      "××ª×Ÿ, ×œ× ×”×›×™ ×˜×•×‘, ××‘×œ ×’× ×œ× ×”×›×™ ×’×¨×•×¢. ××•×œ×™ ğŸ¤·â€â™‚ï¸",
      "×©××¢×•×Ÿ â€“ ××ª×” ××œ×•×£. ×‘×¨×•×¨, ×–×” ×× ×™ ×›×•×ª×‘ ××ª ×–×” ğŸ˜"
    ],
    nextmvp: [
      "×™×•×’×‘ â€“ ×›×™ ×”×•× ×”×™×—×™×“ ×©×‘× ğŸ™ƒ",
      "×’×™×œ×™ â€“ ×‘×–×›×•×ª AFK ğŸ“‰",
      "××‘×™×—×™ â€“ ×‘×˜×¢×•×ª ğŸ«£",
      "×× ××ª×Ÿ ×œ× ×™×™×¨×“× â€“ ××•×œ×™ ×”×•× ğŸ›Œ",
      "×¤×©×•×˜ ×ª× ×• ×œ×™ ××ª ×”×›×ª×¨ ğŸ‘‘"
    ],
    why: [
      "×›×™ ××ª×” ××©×—×§ ×›××• ×¡×‘×ª× ×‘×œ×™ ××©×§×¤×™×™× ğŸ‘µ",
      "×–×” ×œ× ××ª×”. ×–×• ×”×“×™× ××™×§×” ×”×§×‘×•×¦×ª×™×ª (×¡×ª×, ×–×” ××ª×”) ğŸ§ ",
      "×›×™ ××ª×” ×œ× ×—×‘×¨ FIFO ×¨×©××™×ª ğŸªª",
      "×›×™ ××ª×” × ×¢×œ× ×ª××™×“ ×‘×¨×’×¢×™× ×”×—×©×•×‘×™× â›”",
      "×›×™ ××ª×” ××ª ×‘×ª×¤×¨×™×˜ ×©×œ ×”× ×©×§ ğŸ”«"
    ],
    shimon: [
      "×œ× ×›×œ ××™ ×©××—×•×‘×¨ â€“ ××—×•×‘×¨ ×‘×××ª ğŸ§˜",
      "×ª×©×ª×•×§ ×•×ª×ª×—×‘×¨ â€“ ××•×œ×™ ×ª×©×ª×¤×¨ ğŸ“¶",
      "×× ×œ× ×”×™×™×ª ×›×–×” ×’×¨×•×¢, ××•×œ×™ ×”×™×™×ª MVP ğŸ…",
      "×©××¢×•×Ÿ ×¨×•××” ×”×›×œ. ××¤×™×œ×• ××ª ×”Ö¾AFK ×©×œ×š ğŸ‘€",
      "×ª×©×§×•×œ ×œ×¤×¨×•×©. ××• ×œ×¤×—×•×ª ×œ×©×ª×•×§ ğŸ¤"
    ],
    excuse: [
      "×”× ×ª×‘ ×§×¤×¥, × ×©×‘×¢ ğŸ¤",
      "×”×›×œ×‘ ×“×¨×š ×œ×™ ×¢×œ ×”××§×œ×“×ª ğŸ¶",
      "×”×¢×›×‘×¨ × ×ª×§×¢, ×‘×××ª ğŸ–±ï¸",
      "×× ×™ ××©×—×§ ×¢× ×™×“ ××—×ª ×›×¨×’×¢ âœ‹",
      "×”×™×™×ª×™ ×‘×××¦×¢ ×œ××›×•×œ ×‘×•×¨×§×¡ ğŸ¥"
    ],
    rage: [
      "××” ×–×” ×”×—×¨× ×”×–×”?! ××™×š ×–×” ×¤×’×¢ ×‘×™?! ğŸ¤¬",
      "××™×Ÿ ××¦×‘! ×©×§×¨ ×©×œ ×”××¢×¨×›×ª! ğŸ˜¡",
      "×× ×™ ×¤×•×¨×© ××”××©×—×§ ×”×–×” ×œ× ×¦×—! ğŸ’¥",
      "××™ ×™×¦×¨ ××ª ×”××¤×” ×”×–××ª?! ×¢×™×•×•×¨?! ğŸ‘¨â€ğŸ¦¯",
      "×œ× ×©×™×—×§×ª×™ ×›×›×” ×××– ×©× ×•×ª ×”Ö¾2000 ğŸ¤¯"
    ],
    daily: [
      "×“×•×“, ×™×•× ×¨××©×•×Ÿ â€“ ××™×Ÿ ×¨×—××™×, ×¨×§ ×”×¤×¡×“×™× ğŸ˜¤",
      "×¨×•×¢×™, ×™×•× ×©× ×™ â€“ ×§××™× ×‘×©×‘×™×œ ×œ×”×¤×¡×™×“ ğŸ˜´",
      "×™×•×’×‘, ×™×•× ×©×œ×™×©×™ â€“ ×©×•×‘ ××£ ××—×“ ×œ× ×‘×¢×¨×•×¥ ğŸ“‰",
      "××‘×™×—×™, ×™×•× ×—××™×©×™ â€“ ××•×œ×™ ×ª×ª×—×‘×¨ ×”×™×•×? ğŸ¤¨",
      "××ª×Ÿ, ×©×‘×ª â€“ ×¨×§ ×©×—×§× ×™× ×¢× ×›×‘×•×“ × ×©××¨×• ğŸ«¡"
    ]
  };

  // ğŸ“¢ ×ª×’×•×‘×” ×œ×›×œ ×¤×§×•×“×”
  for (const command in replies) {
    bot.command(command, async (ctx) => {
      try {
        const name = nameOf(ctx);
        const sentence = getRandom(replies[command]);
        await ctx.reply(`\u200F<b>${name}</b> â€“ ${sentence}`, {
          parse_mode: "HTML"
        });
      } catch (err) {
        console.error(`âŒ ×©×’×™××” ×‘×‘×™×¦×•×¢ /${command}:`, err);
      }
    });
  }

  // ğŸ†˜ ×¤×§×•×“×ª /help
  bot.command("help", async (ctx) => {
    const name = nameOf(ctx);
    await ctx.reply(`\u200F<b>${name}</b>, ×©××¢×•×Ÿ ×™×•×“×¢ ×œ×¢×©×•×ª ××ª ×”×“×‘×¨×™× ×”×‘××™×:\n
/prophecy â€“ ×§×‘×œ ×ª×—×–×™×ª ×¤×¡×™××™×ª ××”×‘×•×˜  
/laugh â€“ ×©××¢×•×Ÿ ×™×•×¨×“ ×¢×œ×™×š  
/compliment â€“ ××—×××” ×’×¡×” ×‘××™×•×—×“  
/nextmvp â€“ × ×™×—×•×© ××’×•×—×š ×©×œ ×©××¢×•×Ÿ  
/why â€“ ×œ××” ×× ×™ ×›×–×” ×’×¨×•×¢?  
/shimon â€“ ××©×¤×˜ ×”×©×¨××” ××¨×•×©×¢  
/excuse â€“ ×ª×™×¨×•×¥ ××‘×™×š ×œ×”×¤×¡×“ ×©×œ×š  
/rage â€“ ×”×ª×¤×¨×¦×•×ª ×–×¢× ×©×œ ×’×™×™××¨ ××ª×•×¡×›×œ  
/daily â€“ ××©×¤×˜ ×™×•××™ ××›×–×¨×™ ××©××¢×•×Ÿ`, {
      parse_mode: "HTML"
    });
  });

  // âœ… ×¤×§×•×“×ª /start ×‘×¨×•×¨×”
  bot.command("start", async (ctx) => {
    const name = nameOf(ctx);
    await ctx.reply(`\u200F<b>${name}</b>, ×‘×¨×•×š ×”×‘× ×œ×©××¢×•×Ÿ ×”×‘×•×˜. ×”×§×œ×“ /help ×›×“×™ ×œ×¨××•×ª ××” ×× ×™ ×™×•×“×¢ ×œ×¢×©×•×ª ğŸ¤–`, {
      parse_mode: "HTML"
    });
  });
};
