// telegramCommands.js

module.exports = function registerTelegramCommands(bot) {
  const getRandom = (arr) => arr[Math.floor(Math.random() * arr.length)];
  const nameOf = (ctx) => ctx.from?.first_name || "חבר";

  const prophecies = [
    "היום אתה תמות בגולאג תוך 17 שניות.",
    "הפינג שלך יעלה ל־999 ברגע הקריטי.",
    "תתחבר – וכולם יתנתקו.",
    "הגורל שלך כתוב: Spectator Mode.",
    "אתה תעשה 0 קילים ותצעק כאילו ניצחת.",
    "המיקרופון שלך ייתקע ותאשים את דיסקורד.",
    "תבקש revive, וכולם יתעלמו.",
    "המערכת תעניש אותך על AFK תמידי.",
    "הגורל קובע – גולדי יחטוף ממך שוב.",
    "הנבואה: Rage quit תוך 6 דקות."
  ];

  const laughs = [
    "🤣 נפל כמו טונה בלי שמן.",
    "😂 תמחוק את המשחק ותחזור לתיכון.",
    "🤡 עזוב, תחפש קבוצה של גיל 8 ומטה.",
    "🧠 גם בוטים ב־Easy היו עושים יותר.",
    "👑 MVP של התבוסה, כל הכבוד.",
    "🎮 נראה שאתה שיחקת עם היד השנייה.",
    "🧻 זה לא היה משחק – זו הייתה בושה.",
    "🐐 עז של פיפואים, לא יותר.",
    "🤯 מי לימד אותך לשחק, נטפליקס?",
    "🪦 RIP גאווה גיימרית. פה נטמנה."
  ];

  const compliments = [
    "רועי – למרות שאתה רוסי עם שם תימני, אני גאה בך. קצת.",
    "יוגב – אתה לא MVP, אבל לפחות אתה בא לערוצים.",
    "מתן – לא הכי טוב, אבל בטוח לא הכי גרוע. אולי.",
    "שרון – הקונטרול שלך טוב כמו הגז שלך באירועים.",
    "עמרי – יותר מדבר מאשר יורה, אבל אוהבים.",
    "אביחי – אם תפסיק להתנתק, תפתיע את כולנו.",
    "גילי – אתה תותח, רק תזכור לשחק גם.",
    "קלימרו – יום אחד תנצח. אולי כשנעבור משחק.",
    "שמעון – אתה אלוף. ברור, זה אני כותב את זה.",
    "מי שלא בא לערוץ – גם אתם בסדר, תורידו ממים."
  ];

  const mvpPredictions = [
    "יוגב, כי הוא היחיד שבא.",
    "הפעם זה גילי – בזכות AFK.",
    "אביחי. בטעות.",
    "שמעון. כי נמאס לי מכולם.",
    "שרון – סתם כי אף אחד אחר לא נשאר.",
    "אם מתן לא יירדם – אולי הוא.",
    "אולי אתה. או שלא.",
    "אף אחד. כולם אפסים.",
    "פשוט תנו לי את הכתר.",
    "הימור: הקבוצה תתפוצץ לפני ה־MVP."
  ];

  const excuses = [
    "האינטרנט נפל, נשבע.",
    "הכלב דרך לי על המקלדת.",
    "העכבר נתקע, באמת.",
    "היה לי לאג של החיים.",
    "המסך שלי נכבה לרגע.",
    "היה טלפון בדיוק, אחי.",
    "אני משחק עם יד אחת כרגע.",
    "הכיסא שלי שבור, לא נוח.",
    "לא שומעים אותי? כי אני צועק.",
    "הייתי באמצע לאכול בורקס."
  ];

  const rages = [
    "מה זה החרא הזה?! איך זה פגע בי?!",
    "אין מצב! שקר של המערכת!",
    "כל פעם אותו באג דפוק!",
    "אני פורש מהמשחק הזה לנצח!",
    "מי יצר את המפה הזאת?! עיוור?!",
    "שוב לא revive? באמת??",
    "שמעון, תוציא אותי מהקבוצה!",
    "אם אני מת שוב – שובר שלט!",
    "למה תמיד אני הקורבן?!",
    "לא שיחקתי ככה מאז שנות ה־2000!"
  ];

  const dailyLines = [
    "📆 יום ראשון – אין רחמים, רק הפסדים.",
    "📆 יום שני – קמים בשביל להפסיד.",
    "📆 יום שלישי – שוב אף אחד לא בערוץ.",
    "📆 יום רביעי – פינג גבוה, מצב רוח נמוך.",
    "📆 יום חמישי – אולי תתחבר היום?",
    "📆 שישי – כולם מתחבאים מה-MVP.",
    "📆 שבת – רק שחקנים עם כבוד נשארו.",
    "📆 יום של חופש = יום בלי ניצחונות.",
    "📆 שמעון במצב AFK – תסתדרו לבד.",
    "📆 היום זה לא היום שלך. אבל נסה שוב."
  ];

  const insults = [
    "אתה גרוע כי אתה חושב שאתה טוב.",
    "כי אתה לא לומד מהטעויות שלך, רק חוזר עליהן.",
    "הבעיה שלך זה לא המשחק. זה אתה.",
    "כי אתה מדבר יותר משאתה יורה.",
    "אם היית מקשיב, אולי היית מבין.",
    "זה לא המשחק. זה הפינג שבינך לבין המציאות.",
    "אתה הגורם מספר 1 להפסדים בקבוצה.",
    "כי כשאתה מחובר, כולנו מתנתקים נפשית.",
    "תשקול לפרוש או לפחות לעבור הדרכה.",
    "כי שמעון כבר איבד תקווה לגביך."
  ];

  const shimonQuotes = [
    "לא כל מי שמחובר – מחובר באמת.",
    "תשתוק ותתחבר – אולי תשתפר.",
    "שחק פחות, תצעק יותר – זה מה שאתה עושה.",
    "אם לא היית כזה גרוע, אולי היית MVP.",
    "שמעון רואה הכל. אפילו את ה-AFK שלך.",
    "שחק כמו גבר, לא כמו כפתור F.",
    "הבושה מתחילה כשאתה נכנס לערוץ.",
    "לא כל מי שצועק, יודע לשחק.",
    "כשהקבוצה מפסידה – כנראה אתה שם.",
    "שמעון תמיד איתך – במיוחד כשאתה נופל."
  ];

  // Start
  bot.command("start", async (ctx) => {
    const name = nameOf(ctx);
    await ctx.reply(`שלום ${name}, שמעון מחובר. שלח /help כדי לראות מה אתה מסוגל בכלל.`);
  });

  // Help
  bot.command("help", async (ctx) => {
    await ctx.reply(`📋 שמעון יודע לעשות את הדברים הבאים:
    
/start – התחלה וברוך הבא  
/prophecy – קבל תחזית פסימית מהבוט  
/laugh – שמעון יורד עליך  
/compliment – מחמאה גסה במיוחד  
/nextmvp – ניחוש מגוחך של שמעון  
/why – למה אני כזה גרוע?  
/shimon – משפט השראה מרושע  
/excuse – תירוץ מביך להפסד שלך  
/rage – התפרצות זעם של גיימר מתוסכל  
/daily – משפט יומי אכזרי משמעון`);
  });

  bot.command("prophecy", ctx => ctx.reply(`🔮 ${nameOf(ctx)}, ${getRandom(prophecies)}`));
  bot.command("laugh", ctx => ctx.reply(`🤣 ${nameOf(ctx)}, ${getRandom(laughs)}`));
  bot.command("compliment", ctx => ctx.reply(`🎁 ${getRandom(compliments)}`));
  bot.command("nextmvp", ctx => ctx.reply(`🏆 ${getRandom(mvpPredictions)}`));
  bot.command("why", ctx => ctx.reply(`😓 ${nameOf(ctx)}, ${getRandom(insults)}`));
  bot.command("shimon", ctx => ctx.reply(`🎤 ${getRandom(shimonQuotes)}`));
  bot.command("excuse", ctx => ctx.reply(`🙄 ${getRandom(excuses)}`));
  bot.command("rage", ctx => ctx.reply(`😡 ${getRandom(rages)}`));
  bot.command("daily", ctx => ctx.reply(`📆 ${getRandom(dailyLines)}`));
};
